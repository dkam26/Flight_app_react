{"ast":null,"code":"import _slicedToArray from \"/Users/deokamara/Desktop/Flight_app_react/my-flight-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/deokamara/Desktop/Flight_app_react/my-flight-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/deokamara/Desktop/Flight_app_react/my-flight-app/src/component/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useReducer, useEffect } from \"react\";\nimport '../App.css';\nimport Header from \"./Header\";\nimport Flight from \"./Flights\";\nimport Search from \"./Search\";\nimport FLIGHTS_API from \"../fights_content\";\nconst initialState = {\n  loading: true,\n  flights: FLIGHTS_API,\n  errorMessage: null\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SEARCH_FLIGHTS_REQUEST\":\n      return _objectSpread({}, state, {\n        loading: true,\n        errorMessage: null\n      });\n\n    case \"SEARCH_FLIGHTS_SUCCESS\":\n      return _objectSpread({}, state, {\n        loading: false,\n        flights: action.payload\n      });\n\n    case \"SEARCH_FLIGHTS_FAILURE\":\n      return _objectSpread({}, state, {\n        loading: false,\n        errorMessage: action.error\n      });\n\n    default:\n      return state;\n  }\n};\n\nconst App = () => {\n  const _useReducer = useReducer(reducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  useEffect(() => {\n    dispatch({\n      type: \"SEARCH_FLIGHTS_SUCCESS\",\n      payload: FLIGHTS_API\n    });\n  }, []);\n\n  const search = searchValue => {\n    dispatch({\n      type: \"SEARCH_FLIGHTS_REQUEST\"\n    });\n    const flightSearched = FLIGHTS_API.filter(flight => flight.Airline === searchValue);\n\n    if (flightSearched.length) {\n      dispatch({\n        type: \"SEARCH_FLIGHTS_SUCCESS\",\n        payload: flightSearched\n      });\n    } else {\n      dispatch({\n        type: \"SEARCH_FLIGHTS_FAILURE\",\n        error: \"Not found\"\n      });\n    }\n  };\n\n  const flights = state.flights,\n        errorMessage = state.errorMessage,\n        loading = state.loading;\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Header, {\n    text: \"Flights app\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(Search, {\n    search: search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"flights\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, loading && !errorMessage ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"loading... \") : errorMessage ? React.createElement(\"div\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, errorMessage) : React.createElement(Flight, {\n    key: flights.id,\n    flight: flights,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/deokamara/Desktop/Flight_app_react/my-flight-app/src/component/App.js"],"names":["React","useReducer","useEffect","Header","Flight","Search","FLIGHTS_API","initialState","loading","flights","errorMessage","reducer","state","action","type","payload","error","App","dispatch","search","searchValue","flightSearched","filter","flight","Airline","length","id"],"mappings":"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","sourcesContent":["import React, {useReducer, useEffect} from \"react\";\nimport '../App.css';\nimport Header from \"./Header\";\nimport Flight from \"./Flights\";\nimport Search from \"./Search\";\nimport FLIGHTS_API from \"../fights_content\";\n\nconst initialState ={\n  loading: true,\n  flights:FLIGHTS_API,\n  errorMessage: null\n}\n\nconst reducer = (state,action)=>{\n  switch(action.type) {\n    case \"SEARCH_FLIGHTS_REQUEST\":\n      return {\n        ...state,\n        loading:true,\n        errorMessage:null\n      };\n    case \"SEARCH_FLIGHTS_SUCCESS\":\n      return{\n        ...state,\n        loading:false,\n        flights:action.payload\n      }\n    case \"SEARCH_FLIGHTS_FAILURE\":\n          return {\n            ...state,\n            loading: false,\n            errorMessage: action.error\n          };\n    default:\n      return state;\n  }\n}\nconst App=()=>{\n    const[state, dispatch]  = useReducer(reducer,initialState);\n    useEffect(()=>{\n      dispatch({\n        type: \"SEARCH_FLIGHTS_SUCCESS\",\n        payload: FLIGHTS_API\n      });\n    },[])\n    const search = searchValue =>{\n      dispatch({\n        type:\"SEARCH_FLIGHTS_REQUEST\"\n      })\n      const flightSearched = FLIGHTS_API.filter(flight => flight.Airline ===searchValue)\n\n      if(flightSearched.length){\n\n        dispatch({\n          type: \"SEARCH_FLIGHTS_SUCCESS\",\n          payload: flightSearched\n      });\n      } else{\n        dispatch({\n          type: \"SEARCH_FLIGHTS_FAILURE\",\n          error: \"Not found\"\n      });\n      }\n    }\n    const { flights, errorMessage, loading } = state;\n    return (\n      <div className=\"App\">\n        <Header text=\"Flights app\" />\n        <Search search={search} />\n\n         <div className=\"flights\">\n          {loading && !errorMessage ? (\n            <span>loading... </span>\n          ) : errorMessage ? (\n            <div className=\"errorMessage\">{errorMessage}</div>\n          ) : (\n            <Flight key={flights.id} flight={flights} />\n\n          )}\n        </div>\n      </div>\n    );\n  }\nexport default App;"]},"metadata":{},"sourceType":"module"}